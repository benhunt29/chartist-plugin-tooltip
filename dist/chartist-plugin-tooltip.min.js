/* chartist-plugin-tooltip 0.0.17
 * Copyright Â© 2016 Markus Padourek
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.tooltips"]=b(Chartist)}(this,function(a){return function(b,c){"function"==typeof define&&define.amd?define(["chartist"],function(a){return b.returnExportsGlobal=c(a)}):"object"==typeof exports?module.exports=c(require("chartist")):b["Chartist.plugins.tooltips"]=c(a)}(this,function(a){return function(a,b,c){"use strict";function d(a){f(a,"tooltip-show")||(a.className=a.className+" tooltip-show")}function e(a){var b=new RegExp("tooltip-show\\s*","gi");a.className=a.className.replace(b,"").trim()}function f(a,b){return(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")>-1}function g(a,b){do a=a.nextSibling;while(a&&!f(a,b));return a}function h(a){return a.innerText||a.textContent}var i={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,class:void 0,pointClass:"ct-point"};c.plugins=c.plugins||{},c.plugins.tooltip=function(j){return j=c.extend({},i,j),function(i){function k(a,b,c){o.addEventListener(a,function(a){b&&!f(a.target,b)||c(a)})}function l(a){var e=a.target,f="",k=i instanceof c.Pie?e:e.parentNode,l=k?e.parentNode.getAttribute("ct:meta")||e.parentNode.getAttribute("ct:series-name"):"",n=e.getAttribute("ct:meta")||l||"",o=!!n,s=e.getAttribute("ct:value");if(j.transformTooltipTextFnc&&"function"==typeof j.transformTooltipTextFnc&&(s=j.transformTooltipTextFnc(s)),j.tooltipFnc&&"function"==typeof j.tooltipFnc)f=j.tooltipFnc(n,s);else{if(j.metaIsHTML){var t=b.createElement("textarea");t.innerHTML=n,n=t.value}if(n='<span class="chartist-tooltip-meta">'+n+"</span>",o)f+=n+"<br>";else if(i instanceof c.Pie){var u=g(e,"ct-label");u&&(f+=h(u)+"<br>")}s&&(j.currency&&(s=void 0!=j.currencyFormatCallback?j.currencyFormatCallback(s,j):j.currency+s.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),s='<span class="chartist-tooltip-value">'+s+"</span>",f+=s)}f&&(p.innerHTML=f,m(a),d(p),q=p.offsetHeight,r=p.offsetWidth)}function m(b){q=q||p.offsetHeight,r=r||p.offsetWidth;var c,d,e=-r/2+j.tooltipOffset.x,f=-q+j.tooltipOffset.y;if(j.appendToBody)p.style.top=b.pageY+f+"px",p.style.left=b.pageX+e+"px";else{var g=o.getBoundingClientRect(),h=b.pageX-g.left-a.pageXOffset,i=b.pageY-g.top-a.pageYOffset;!0===j.anchorToPoint&&b.target.x2&&b.target.y2?(c=parseInt(b.target.x2.baseVal.value),d=parseInt(b.target.y2.baseVal.value)):!0===j.anchorToPoint&&b.target.x&&b.target.y&&(c=parseInt(b.target.x.baseVal.value),d=parseInt(b.target.y.baseVal.value)),p.style.top=(d||i)+f+"px",p.style.left=(c||h)+e+"px"}}var n=j.pointClass;i instanceof c.Bar?n="ct-bar":i instanceof c.Pie&&(n=i.options.donut?"ct-slice-donut":"ct-slice-pie");var o=i.container,p=o.querySelector(".chartist-tooltip");p||(p=b.createElement("div"),p.className=j.class?"chartist-tooltip "+j.class:"chartist-tooltip",j.appendToBody?b.body.appendChild(p):o.appendChild(p));var q=p.offsetHeight,r=p.offsetWidth;e(p),k("mouseover",n,l),k("mouseout",n,function(){e(p)}),k("touchstart",n,l),k("touchend",n,function(){e(p)}),k("mousemove",null,function(a){!1===j.anchorToPoint&&m(a)})}}}(window,document,a),a.plugins.tooltips}),a.plugins.tooltips});
//# sourceMappingURL=chartist-plugin-tooltip.min.js.map